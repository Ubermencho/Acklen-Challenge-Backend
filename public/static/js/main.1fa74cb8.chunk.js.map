{"version":3,"sources":["Components/SecureRoutes/SecureRoute.js","Components/Utilities/Utilities.js","Components/Header/Header.js","Components/Footer/Footer.js","Components/Pages/Page.js","Components/Pages/Public/Home/Home.js","Components/Forms/Field.js","Components/Forms/Button.js","Components/Forms/Validators.js","Components/Pages/Public/Sign In/Signin.js","Components/Pages/Public/Login/Login.js","Components/Pages/Public/SharedCollection/SharedCollection.js","Components/Pages/Private/PrivateHome/PrivateHome.js","Components/Pages/Private/Collections/CollectionsList.js","Components/Pages/Private/Collections/NewCollection.js","Components/Pages/Private/Collections/CollectionDetail.js","Components/Pages/Private/Items/NewItem.js","Components/Pages/Private/Items/EditItem.js","Components/Pages/Private/Items/DeleteItem.js","App.js","serviceWorker.js","index.js"],"names":["CustomComponent","component","auth","rest","props","isLogged","to","pathname","state","from","location","normalAxios","axios","create","defaults","headers","common","post","put","paxios","secureAxios","setJWTBearer","jwt","saxios","localStorageAvailable","localStorage","setItem","removeItem","e","setLocalStorage","key","value","getLocalStorage","getItem","removeLocalStorage","Header","counter","counterUdpate","bind","logoutOnClick","preventDefault","stopPropagation","this","setState","logout","hide","onClick","Component","children","title","login","pageTitle","hideHeader","finalHideHeader","className","name","type","caption","onChange","error","htmlFor","id","Actions","emailRegex","emptyRegex","Signin","userName","userNameError","userEmail","userEmailerror","userPassword","userPassworderror","onChangeHandler","onClickCreateAccount","validate","nameErrors","tmpErrors","email","password","undefined","test","push","length","Object","assign","emailError","join","alert","passwordError","currentTarget","errors","userPass","userMail","pass","then","resp","data","catch","userEmailError","Login","redirectTo","onClickLogin","console","log","Message","redirect","CollectionDetail","results","hasMore","offset","itemsToLoad","itemID","loadMore","items","collectionID","match","params","uri","get","apiItems","total","loadedItems","map","uiItems","item","parseInt","src","picture","itemName","itemDescription","itemValue","itemCondition","ref","scrollParentRef","pageStart","threshold","getScrollParent","loader","Collections","base","userID","Picture","Description","extras","size","color","NewCollection","handleFile","fileReader","FileReader","onloadend","result","readAsDataURL","target","files","onImageLoaded","image","imageRef","onCropChange","crop","onCropComplete","width","height","croppedImageUrl","getCroppedImg","colltitle","colltitleerr","colldesc","colldescerr","collextras","collPic","unit","aspect","croppedUrl","onClickAddCollection","description","collcreator","creatorID","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","_this","exif","getData","getAllTags","Orientation","transform","drawImage","x","y","reader","toBlob","blob","dataURLtoFile","dataurl","filename","arr","split","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","croppedImage","File","profile_pic","accept","onComplete","setItemID","collID","link","generateShareLink","NewItem","itemNameerr","itemDescriptionerr","itemPic","onClickAddItem","condition","NameError","descriptionError","conditionError","collectionid","itemname","itemvalue","itemNameError","itemDescriptionError","itemValueerror","itemConditionerror","EditItem","DeleteItem","redirecttoCollection","collid","delete","App","user","loadingBackend","fuser","render","path","exact","PrivateHome","collections","newcollection","collectionDetail","newItem","editItem","deleteItem","Boolean","window","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.1fa74cb8.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\nexport default ({component: CustomComponent, auth, ...rest})=>{\r\n    return(\r\n        <Route\r\n            {...rest}\r\n            component={(props)=>{\r\n                return(\r\n                    (auth.isLogged) ?\r\n                    (<CustomComponent {...props}  auth={auth} />):\r\n                    (\r\n                        <Redirect\r\n                        to={\r\n                            {\r\n                                pathname:\"/login\",\r\n                                state:{\r\n                                    from: props.location\r\n                                }\r\n                            }\r\n                        }\r\n                        />\r\n                    )\r\n                )\r\n            }}\r\n        />\r\n    )\r\n}","import axios from 'axios';\r\n\r\nlet normalAxios = axios.create();\r\nnormalAxios.defaults.headers.common['cache-control'] = \"no-cache\";\r\nnormalAxios.defaults.headers.post['Content-Type'] = \"no-cache\";\r\nnormalAxios.defaults.headers.put['Content-Type'] = \"no-cache\";\r\n\r\nexport const paxios = normalAxios;\r\n\r\nlet secureAxios = axios.create();\r\nsecureAxios.defaults.headers.common['cache-control'] = \"no-cache\";\r\nsecureAxios.defaults.headers.post['Content-Type'] = \"no-cache\";\r\nsecureAxios.defaults.headers.put['Content-Type'] = \"no-cache\";\r\n\r\nexport const setJWTBearer = (jwt) =>{\r\n    secureAxios.defaults.headers.common[\"Authorization\"] = `Bearer ${jwt}`;\r\n}\r\n\r\nexport const saxios = secureAxios;\r\n\r\n\r\nconst localStorageAvailable = (()=>{\r\n    let t='t';\r\n    try{\r\n        localStorage.setItem(t,t);\r\n        localStorage.removeItem(t);\r\n        return true;\r\n    }catch(e){\r\n        return false;\r\n    }\r\n})();\r\n\r\n\r\nexport const setLocalStorage = (key, value)=>{\r\n    if(localStorageAvailable){\r\n        localStorage.setItem(key,value);\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n\r\nexport const getLocalStorage = (key) =>{\r\n    if(localStorageAvailable){\r\n        return localStorage.getItem(key);\r\n    }else{\r\n        return null;\r\n    }\r\n}\r\n\r\nexport const removeLocalStorage = (key) =>{\r\n    if(localStorageAvailable){\r\n        localStorage.removeItem(key);\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {IoIosLogIn, IoIosHome, IoIosFolder} from 'react-icons/io';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\nimport './Header.css';\r\n\r\nexport default class Header extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            counter:0\r\n        }\r\n        this.counterUdpate = this.counterUdpate.bind(this);\r\n        this.logoutOnClick = this.logoutOnClick.bind(this);\r\n    }\r\n\r\n    counterUdpate(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.setState({counter:this.state.counter+1});\r\n    }\r\n\r\n    logoutOnClick(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.props.auth.logout();\r\n    }\r\n\r\n    render(){\r\n        if(this.props.hide && true){\r\n            return null;\r\n        }\r\n        if(this.props.auth && this.props.auth.isLogged && true){\r\n            return(\r\n                <header>\r\n                    <nav>\r\n                        <ul>\r\n                            <li><NavLink to=\"/privatehome\"><IoIosHome/>Home</NavLink></li>\r\n                            <li><NavLink to=\"/collections\"><IoIosFolder/>My Collections</NavLink></li>\r\n                            <li><a onClick={this.logoutOnClick}><IoIosLogIn/>Logout</a></li>\r\n                        </ul>\r\n                    </nav>\r\n                </header>\r\n            );\r\n        }else{\r\n            return(\r\n                <header>\r\n                    <nav>\r\n                        <ul>\r\n                        <li><NavLink to=\"/\"><IoIosHome/>Home</NavLink></li>\r\n                        <li><NavLink to=\"/signin\"><IoIosLogIn/>Sign in</NavLink></li>\r\n                        <li><NavLink to=\"/login\"><IoIosLogIn/>Login</NavLink></li>\r\n                        </ul>\r\n                    </nav>\r\n                </header>\r\n            );\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport './Footer.css';\r\n\r\nexport default ({children, title, login})=>{\r\n    \r\n    return(\r\n        <footer>\r\n            <h1> {title} {children}</h1>\r\n        </footer>\r\n    \r\n    );\r\n}","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\nimport './Page.css';\r\n\r\nexport default ({pageTitle, hideHeader, children, auth})=>{\r\n    const finalHideHeader = hideHeader || false;\r\n    return(\r\n        <section className=\"page\">\r\n            {(!finalHideHeader)?(<Header  auth={auth}></Header>):null}\r\n            <main>\r\n                {children}\r\n            </main>\r\n            <Footer>{pageTitle || \"page\"}</Footer>\r\n        </section>\r\n    );\r\n}","import React from 'react';\r\nimport Page from '../../Page';\r\n\r\nimport './Home.css';\r\n\r\nexport default ({auth})=>{\r\n    \r\n    return(\r\n        <Page pageTitle=\"Collection Tracker V1.0\" auth={auth} >\r\n            <body>\r\n                <p className=\"HomeWelcome\">Welcome to the Collection Tracker Web-App</p>\r\n            </body>\r\n        </Page>\r\n    )\r\n}","import React from 'react';\r\nimport './Field.css';\r\n\r\nexport default ({name, value, type, caption, onChange, error})=>{\r\n    return(\r\n        <fieldset>\r\n            <label htmlFor={name}>{caption}</label>\r\n            <input type={type || \"text\"} name={name}\r\n                id={name} value={value}\r\n                onChange={(onChange || ((e)=>false))}\r\n            />\r\n            {(error && true) ? (<span className=\"error\">{error}</span>): null}\r\n        </fieldset>\r\n    )\r\n}","import React from 'react';\r\nimport './Button.css';\r\nexport const Actions = ({children})=>{\r\n  return(\r\n    <fieldset className=\"action\">\r\n      {children}\r\n    </fieldset>\r\n  );\r\n}","export const emailRegex = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/;\r\nexport const emptyRegex = /^\\s?$/;\r\nexport const passwordRegex = /^((?=\\S*?[A-Z])(?=\\S*?[a-z])(?=\\S*?[0-9]).{8})\\S$/;","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport Field from '../../../Forms/Field';\r\nimport {Actions} from '../../../Forms/Button';\r\nimport {emailRegex, emptyRegex} from '../../../Forms/Validators';\r\n\r\nimport {paxios} from '../../../Utilities/Utilities';\r\nimport './Signin.css';\r\n\r\nexport default class Signin extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state ={\r\n            userName:'',\r\n            userNameError: null,\r\n            userEmail:'',\r\n            userEmailerror: null,\r\n            userPassword: '',\r\n            userPassworderror: null\r\n        }\r\n\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onClickCreateAccount = this.onClickCreateAccount.bind(this);\r\n        this.validate = this.validate.bind(this);\r\n    }\r\n\r\n\r\n    validate() {\r\n        let nameErrors = null;\r\n        let tmpErrors = [];\r\n        const email = this.state.userEmail;\r\n        const password = this.state.userPassword;\r\n        if (email !== undefined) {\r\n          if (!emailRegex.test(email)) {\r\n            tmpErrors.push(\"Your E-mail is an incorrect format\");\r\n          }\r\n          if ((/^\\s*$/.test(email))) {\r\n            tmpErrors.push(\"You must enter an adecuate E-mail\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { emailError: tmpErrors.join('. ') });\r\n            alert(nameErrors.emailError);\r\n          }\r\n        }\r\n        if (password !== undefined) {\r\n          tmpErrors = [];\r\n          if ((emptyRegex.test(password))) {\r\n            tmpErrors.push(\"Please enter a password\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { passwordError: tmpErrors.join('. ') });\r\n            alert(nameErrors.passwordError);\r\n          }\r\n        }\r\n        \r\n        \r\n        return nameErrors;\r\n      }\r\n\r\n    onChangeHandler(e) {\r\n        const { name, value } = e.currentTarget;\r\n        \r\n        this.setState({...this.state,[name]: value,});\r\n      }\r\n\r\n      onClickCreateAccount(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const errors = this.validate();\r\n        if (errors) {\r\n          this.setState({ ...this.state, ...errors });\r\n        } else {\r\n          const userName = this.state.userName;\r\n          const userPass = this.state.userPassword;\r\n          const userMail = this.state.userEmail;\r\n          paxios.post( `/api/user/new`,{\r\n              email: userMail,\r\n              pass: userPass,\r\n              name: userName\r\n            }\r\n          )\r\n            .then((resp) => {\r\n              alert(resp.data);\r\n            })\r\n            .catch((error) => {\r\n                alert(error);\r\n            })\r\n        }\r\n      }\r\n\r\n    render(){\r\n        return(\r\n            <Page pageTitle=\"New Account\" auth={this.props.auth}>\r\n                <body   className=\"body\">\r\n                <Field\r\n                name=\"userName\"\r\n                caption=\"User Name\"\r\n                value={this.state.userName}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userNameError}\r\n                />\r\n                <Field\r\n                name=\"userEmail\"\r\n                caption=\"Your E-mail\"\r\n                value={this.state.userEmail}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userEmailError}\r\n                />\r\n                <Field\r\n                name=\"userPassword\"\r\n                caption=\"Your Password...\"\r\n                value={this.state.userPassword}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userPassworderror}\r\n                />\r\n\r\n                <Actions>\r\n                    <button onClick={this.onClickCreateAccount}>Create my Account</button>\r\n                </Actions>\r\n                </body>\r\n\r\n            </Page>\r\n        )\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport Field from '../../../Forms/Field';\r\nimport {Actions} from '../../../Forms/Button';\r\nimport {emailRegex, emptyRegex} from '../../../Forms/Validators';\r\n\r\nimport {paxios, setLocalStorage} from '../../../Utilities/Utilities';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\n\r\nexport default class Login extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            userEmail:'',\r\n            userEmailerror:null,\r\n            userPassword:'',\r\n            userPassworderror:null,\r\n            redirectTo:false\r\n        }\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onClickLogin = this.onClickLogin.bind(this);\r\n        this.validate = this.validate.bind(this);\r\n    }\r\n\r\n    validate() {\r\n        let nameErrors = null;\r\n        let tmpErrors = [];\r\n        const email = this.state.userEmail;\r\n        const password = this.state.userPassword;\r\n        if (email !== undefined) {\r\n          if (!emailRegex.test(email)) {\r\n            tmpErrors.push(\"Your E-mail is an incorrect format\");\r\n          }\r\n          if ((/^\\s*$/.test(email))) {\r\n            tmpErrors.push(\"You must enter an adecuate E-mail\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { emailError: tmpErrors.join('. ') });\r\n            alert(nameErrors.emailError);\r\n          }\r\n        }\r\n        if (password !== undefined) {\r\n          tmpErrors = [];\r\n          if ((emptyRegex.test(password))) {\r\n            tmpErrors.push(\"Please enter a password\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { passwordError: tmpErrors.join('. ') });\r\n            alert(nameErrors.passwordError);\r\n          }\r\n        }  \r\n        return nameErrors;\r\n      }\r\n\r\n      onChangeHandler(e) {\r\n        const { name, value } = e.currentTarget;\r\n        \r\n        this.setState({...this.state,[name]: value,});\r\n      }\r\n\r\n\r\n      onClickLogin(e){\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          const errors = this.validate();\r\n          if(errors){\r\n              this.setState({...this.state, ...errors});\r\n          }else{\r\n              const userEmail = this.state.userEmail;\r\n              const userPassword = this.state.userPassword;\r\n              paxios.post(\"/api/user/login\", {userEmail:userEmail, userPassword:userPassword})\r\n              .then((resp)=>{\r\n                  console.log(resp.data);\r\n                  if(resp.data===\"User not found!\"){\r\n                      alert(resp.data);\r\n                  }else{\r\n                      alert(resp.data.Message);\r\n                      this.props.login(resp.data);\r\n                      this.setState({...this.state, redirectTo: true });\r\n                      \r\n                  }\r\n              })\r\n              .catch((error)=>{\r\n                console.log(error);\r\n              })\r\n          }\r\n      }\r\n\r\n\r\n      render(){\r\n        if (this.state.redirectTo){\r\n            const redirect = (this.props.location.state) ? this.props.location.state.from.pathname : '/privatehome';\r\n            return (<Redirect to={redirect} />);\r\n          }\r\n        return(\r\n            <Page pageTitle=\"Login\" auth={this.props.auth}>\r\n                <body   className=\"body\">\r\n                <Field\r\n                name=\"userEmail\"\r\n                caption=\"Your E-mail\"\r\n                value={this.state.userEmail}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userEmailError}\r\n                />\r\n                <Field\r\n                name=\"userPassword\"\r\n                caption=\"Your Password...\"\r\n                value={this.state.userPassword}\r\n                type=\"password\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userPassworderror}\r\n                />\r\n\r\n                <Actions>\r\n                    <button onClick={this.onClickLogin}>Login</button>\r\n                    <NavLink to=\"signin\"><button>Create an Account</button></NavLink>\r\n                </Actions>\r\n                </body>\r\n\r\n            </Page>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport {saxios, setLocalStorage} from '../../../Utilities/Utilities';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\n\r\nexport default class CollectionDetail extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            results:[],\r\n            hasMore:true,\r\n            offset:0,\r\n            itemsToLoad:10,\r\n            itemID:0,\r\n            redirect:false\r\n        }\r\n        this.loadMore = this.loadMore.bind(this);\r\n        \r\n    }\r\n\r\n    loadMore(){\r\n        const items = this.state.itemsToLoad;\r\n        const collectionID = this.props.match.params.id;\r\n        setLocalStorage('collID', this.props.match.params.id);\r\n        const uri = `/api/collections/detail/${collectionID}/${this.state.offset}/${items}`;\r\n        \r\n        saxios.get(uri)\r\n        .then(\r\n            ({data})=>{\r\n                const apiItems = data;\r\n                const total = data.length;\r\n                const loadedItems = this.state.results;\r\n                apiItems.map((e)=>loadedItems.push(e));\r\n                this.state.offset += items;\r\n                if(total){\r\n                    this.setState({'results': loadedItems, 'hasMore':true});\r\n                }else{\r\n                    this.setState({'hasMore':false});\r\n                }\r\n            }\r\n        ).catch((error)=>{\r\n            alert(error);\r\n        })\r\n        }\r\n\r\n    render(){\r\n        \r\n        const uiItems = this.state.results.map(\r\n            (item)=>{\r\n                return(\r\n                    <div className=\"listItem\" key={parseInt(item.itemID)}>\r\n                        <img className=\"image\" src={item.picture}></img>\r\n                        <span>Name: {item.itemName}</span>\r\n                        <span>Description: {item.itemDescription}</span>\r\n                        <span>Value: {item.itemValue}</span>\r\n                        <span>Condition: {item.itemCondition}</span>\r\n                        \r\n                    </div>\r\n                );\r\n            }\r\n        );\r\n        return(\r\n            <Page pageTitle=\"Collection's Detail\" auth={this.props.auth}>\r\n                <div ref={(ref)=>this.scrollParentRef = ref}>\r\n                        <h2>Items in this Collection</h2>\r\n                        <InfiniteScroll\r\n                        pageStart={0}\r\n                        loadMore={this.loadMore}\r\n                        hasMore={this.state.hasMore}\r\n                        threshold={108}\r\n                        getScrollParent={()=>this.scrollParentRef}\r\n                        loader={<div key=\"pblistLoading\" >Loading Items...</div>}\r\n                        >\r\n                            {uiItems}\r\n                        </InfiniteScroll>\r\n                </div>\r\n            </Page>   \r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Page from '../../Page';\r\nimport {getLocalStorage} from '../../../Utilities/Utilities';\r\n\r\nimport './PrivateHome.css';\r\n\r\nexport default ({auth})=>{\r\n    return(\r\n        <Page pageTitle=\"Collection Tracker V1.0\" auth={auth} >\r\n            <body>\r\n            <p className=\"HomeWelcome\">Welcome, {getLocalStorage('userName')}!!</p>\r\n            </body>\r\n        </Page>\r\n    )\r\n}","import React, {Component} from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport {Link} from 'react-router-dom';\r\nimport {IoIosInformationCircleOutline, IoIosAddCircleOutline} from 'react-icons/io';\r\nimport {getLocalStorage, removeLocalStorage} from '../../../Utilities/Utilities'\r\n\r\nimport Page from '../../Page';\r\nimport './CollectionList.css';\r\nimport {saxios} from '../../../Utilities/Utilities';\r\n\r\nexport default class Collections extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            results:[],\r\n            hasMore:true,\r\n            offset:0,\r\n            itemsToLoad:10,\r\n            base:\"adasd\"\r\n        }\r\n        this.loadMore = this.loadMore.bind(this);\r\n    }\r\n\r\n    loadMore(){\r\n        const items = this.state.itemsToLoad;\r\n        removeLocalStorage('collID');\r\n        const userID = getLocalStorage('userID');\r\n        const uri = `/api/collections/all/${parseInt(userID)}/${parseInt(this.state.offset)}/${items}`;\r\n\r\n        saxios.get(uri)\r\n        .then(\r\n            ({data})=>{\r\n                const apiItems = data;\r\n                const total = data.length;\r\n                const loadedItems = this.state.results;\r\n                apiItems.map((e)=>loadedItems.push(e));\r\n                this.state.offset += items;\r\n                if(total){\r\n                    this.setState({\r\n                        'results':loadedItems,\r\n                        'hasMore': true\r\n                    });\r\n                }else{\r\n                    this.setState({'hasMore':false});\r\n                }\r\n            }\r\n        )\r\n        .catch((error)=>{\r\n            alert(error);\r\n          })\r\n    }\r\n\r\n \r\n    render(){\r\n        const uiItems = this.state.results.map(\r\n            (item)=>{\r\n                \r\n                return(\r\n                    <div className=\"listItem\" key={parseInt(item.collectionID)}>\r\n                        <img className=\"image\" src={item.Picture}></img>\r\n                        <span>Title: {item.title}</span>\r\n                        <span>Description: {item.Description}</span>\r\n                        <span>Extras: {item.extras}</span>\r\n                        <Link to={`/collections/${item.collectionID}`}>\r\n                         <IoIosInformationCircleOutline size ='2em' color=\"black\"/>\r\n                        </Link>\r\n                    </div>\r\n                );\r\n            }\r\n        );\r\n        \r\n\r\n        return(\r\n            <Page pageTitle=\"Your Collections\" auth={this.props.auth}>\r\n                <div ref={(ref)=>this.scrollParentRef = ref}>\r\n                    <h2>Your Collections!</h2>\r\n                    <Link to=\"/newcollection\"><button className=\"addnew\"><IoIosAddCircleOutline></IoIosAddCircleOutline>Add a new Collection</button></Link>\r\n                    <InfiniteScroll\r\n                    pageStart={0}\r\n                    loadMore={this.loadMore}\r\n                    hasMore={this.state.hasMore}\r\n                    threshold={108}\r\n                    getScrollParent={()=>this.scrollParentRef}\r\n                    loader={<div key=\"pbListLoading\">Loading Collections...</div>}\r\n                    >\r\n                        {uiItems}\r\n                    </InfiniteScroll>\r\n                </div>\r\n            </Page>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport Field from '../../../Forms/Field';\r\nimport {Actions} from './../../../Forms/Button';\r\nimport {emptyRegex} from '../../../Forms/Validators';\r\nimport ReactCrop from 'react-image-crop';\r\nimport exif from 'exif-js';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nimport {saxios, getLocalStorage} from '../../../Utilities/Utilities';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default class NewCollection extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            colltitle:'',\r\n            colltitleerr:null,\r\n            colldesc:'',\r\n            colldescerr:null,\r\n            collextras:'',\r\n            collPic:null,\r\n            itemID:0,\r\n            src: null,\r\n            crop: {\r\n            unit: \"%\",\r\n            width: 30,\r\n            aspect: 1 / 1\r\n            },\r\n            croppedImageUrl: null,\r\n            croppedUrl: null,\r\n            redirect:false,\r\n            \r\n        }\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.validate = this.validate.bind(this);\r\n        this.onClickAddCollection = this.onClickAddCollection.bind(this);\r\n    }\r\n\r\n\r\n\r\n    validate() {\r\n        let nameErrors = null;\r\n        let tmpErrors = [];\r\n        const title = this.state.colltitle;\r\n        const description = this.state.colldesc;\r\n        if (title !== undefined) {\r\n          if (emptyRegex.test(title)) {\r\n            tmpErrors.push(\"Please enter a Title\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { emailError: tmpErrors.join('. ') });\r\n            alert(nameErrors.emailError);\r\n          }\r\n        }\r\n        if (description !== undefined) {\r\n          tmpErrors = [];\r\n          if ((emptyRegex.test(description))) {\r\n            tmpErrors.push(\"Please enter a Description\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { passwordError: tmpErrors.join('. ') });\r\n            alert(nameErrors.passwordError);\r\n          }\r\n        }\r\n        \r\n        \r\n        return nameErrors;\r\n      }\r\n\r\n    onChangeHandler(e) {\r\n        const { name, value } = e.currentTarget;\r\n        \r\n        this.setState({...this.state,[name]: value,});\r\n      }\r\n\r\n\r\n    onClickAddCollection(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const errors = this.validate();\r\n        if (errors) {\r\n          this.setState({ ...this.state, ...errors });\r\n        }else{\r\n            const colltitle = this.state.colltitle;\r\n            const colldesc = this.state.colldesc;\r\n            const collextras = this.state.collextras;\r\n            const collPic =this.state.croppedUrl;\r\n            const collcreator = getLocalStorage('userID');\r\n            \r\n            const uri = `/api/collections/new`;\r\n\r\n            saxios.post(uri, {creatorID: collcreator, title: colltitle, Description:colldesc, Picture: collPic, extras: collextras})\r\n            .then((resp)=>{\r\n                alert(resp.data.Message);\r\n                this.setState({...this.state, redirect: true });\r\n            })\r\n            .catch((error)=>{\r\n                alert(error);\r\n            })\r\n            \r\n        }\r\n    }  \r\n\r\n    handleFile = e => {\r\n      const fileReader = new FileReader()\r\n      fileReader.onloadend = () => {\r\n        this.setState({ src: fileReader.result })\r\n      }\r\n      fileReader.readAsDataURL(e.target.files[0])\r\n    }\r\n  \r\n    onImageLoaded = image => {\r\n      this.imageRef = image\r\n    }\r\n  \r\n    onCropChange = (crop) => {\r\n      this.setState({ crop });\r\n    }\r\n  \r\n    onCropComplete = crop => {\r\n      if (this.imageRef && crop.width && crop.height) {\r\n        const croppedImageUrl = this.getCroppedImg(this.imageRef, crop)\r\n        this.setState({ croppedImageUrl })\r\n      }\r\n    }\r\n  \r\n    getCroppedImg(image, crop) {\r\n      const canvas = document.createElement(\"canvas\");\r\n      const scaleX = image.naturalWidth / image.width;\r\n      const scaleY = image.naturalHeight / image.height;\r\n      canvas.width = crop.width;\r\n      canvas.height = crop.height;\r\n      const ctx = canvas.getContext(\"2d\");\r\n  \r\n  \r\n      // --------\r\n      const _this = this\r\n      exif.getData(image, function(){\r\n        var orientation = exif.getAllTags(this).Orientation;\r\n  \r\n        switch (orientation) {\r\n          case 2:\r\n            ctx.transform(-1, 0, 0, 1, crop.width, 0);\r\n            break;\r\n          case 3:\r\n            ctx.transform(-1, 0, 0, -1, crop.width, crop.height);\r\n            break;\r\n          case 4:\r\n            ctx.transform(1, 0, 0, -1, 0, crop.height);\r\n            break;\r\n          case 5:\r\n            ctx.transform(0, 1, 1, 0, 0, 0);\r\n            break;\r\n          case 6:\r\n            ctx.transform(0, 1, -1, 0, crop.height, 0);\r\n            break;\r\n          case 7:\r\n            ctx.transform(0, -1, -1, 0, crop.height, crop.width);\r\n            break;\r\n          case 8:\r\n            ctx.transform(0, -1, 1, 0, 0, crop.width);\r\n            break;\r\n          default:\r\n            ctx.transform(1, 0, 0, 1, 0, 0);\r\n        }\r\n      \r\n        //ctx.drawImage(img, 0, 0, img.width, img.height);\r\n        //-----------\r\n  \r\n        ctx.drawImage(\r\n          image,\r\n          crop.x * scaleX,\r\n          crop.y * scaleY,\r\n          crop.width * scaleX,\r\n          crop.height * scaleY,\r\n          0,\r\n          0,\r\n          crop.width,\r\n          crop.height\r\n        )\r\n  \r\n        const reader = new FileReader()\r\n        canvas.toBlob(blob => {\r\n          reader.readAsDataURL(blob)\r\n          reader.onloadend = () => {\r\n            _this.dataURLtoFile(reader.result, 'cropped.jpg')\r\n          }\r\n        })\r\n      }\r\n    )\r\n    }\r\n  \r\n    dataURLtoFile(dataurl, filename) {\r\n      let arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n  \r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      let croppedImage = new File([u8arr], filename, { type: mime });\r\n      this.setState({ croppedImage: croppedImage, croppedUrl: dataurl })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n      const { crop, profile_pic, src, croppedUrl} = this.state\r\n      if(this.state.redirect){\r\n        const redirect = (this.props.location.state) ? this.props.location.state.from.pathname : '/collections';\r\n        return (<Redirect to={redirect}/>);\r\n      }\r\n        return(\r\n            <Page pageTitle=\"New Collection\" auth={this.props.auth}>\r\n                \r\n                    <h2>Adding a new Collection!</h2>\r\n                <Field\r\n                name=\"colltitle\"\r\n                caption=\"Collection Title\"\r\n                value={this.state.colltitle}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userNameError}\r\n                />\r\n                <Field\r\n                name=\"colldesc\"\r\n                caption=\"Collection Description\"\r\n                value={this.state.colldesc}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userEmailError}\r\n                />\r\n                <Field\r\n                name=\"collextras\"\r\n                caption=\"Colllection Extras\"\r\n                value={this.state.collextras}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.userPassworderror}\r\n                />\r\n                <input type=\"file\" onChange={this.handleFile} accept=\"jpg\"></input>\r\n\r\n                {src && (\r\n                  <ReactCrop\r\n                    src={src}\r\n                    crop={crop}\r\n                    onImageLoaded={this.onImageLoaded}\r\n                    onComplete={this.onCropComplete}\r\n                    onChange={this.onCropChange}\r\n                  />\r\n                )}\r\n                {croppedUrl && (<img src={croppedUrl} />)}\r\n\r\n                <Actions>\r\n                    <button onClick={this.onClickAddCollection}>Add my Collection!</button>\r\n                </Actions>\r\n\r\n            </Page>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport {saxios, setLocalStorage, getLocalStorage} from '../../../Utilities/Utilities';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { IoIosAddCircleOutline,IoIosTrash, IoIosList, IoIosShare } from 'react-icons/io';\r\n\r\nexport default class CollectionDetail extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            results:[],\r\n            hasMore:true,\r\n            offset:0,\r\n            itemsToLoad:10,\r\n            itemID:0,\r\n            redirect:false\r\n        }\r\n        this.loadMore = this.loadMore.bind(this);\r\n        this.setItemID = this.setItemID.bind(this);\r\n    }\r\n\r\n    loadMore(){\r\n        const items = this.state.itemsToLoad;\r\n        const collectionID = this.props.match.params.id;\r\n        setLocalStorage('collID', this.props.match.params.id);\r\n        const uri = `/api/collections/detail/${collectionID}/${this.state.offset}/${items}`;\r\n        \r\n        saxios.get(uri)\r\n        .then(\r\n            ({data})=>{\r\n                const apiItems = data;\r\n                const total = data.length;\r\n                const loadedItems = this.state.results;\r\n                apiItems.map((e)=>loadedItems.push(e));\r\n                this.state.offset += items;\r\n                if(total){\r\n                    this.setState({'results': loadedItems, 'hasMore':true});\r\n                }else{\r\n                    this.setState({'hasMore':false});\r\n                }\r\n            }\r\n        ).catch((error)=>{\r\n            alert(error);\r\n        })\r\n        }\r\n\r\n    setItemID(id){\r\n        this.setState({\r\n            'itemID':id,\r\n            'redirect':true\r\n        });\r\n        \r\n    }\r\n\r\n    generateShareLink(){\r\n        var collID = getLocalStorage('collID');\r\n        var link = `collections/shared/${collID}`;\r\n        alert(\"Share this link: \" + link);\r\n    }\r\n\r\n\r\n    render(){\r\n        if(this.state.redirect){\r\n            const redirect = (this.props.location.state) ? this.props.location.state.from.pathname : `/deleteItem/${this.state.itemID}`;\r\n           \r\n            return (<Redirect to={redirect}/>);\r\n          }\r\n        const uiItems = this.state.results.map(\r\n            (item)=>{\r\n                return(\r\n                    <div className=\"listItem\" key={parseInt(item.itemID)}>\r\n                        <img className=\"image\" src={item.picture}></img>\r\n                        <span>Name: {item.itemName}</span>\r\n                        <span>Description: {item.itemDescription}</span>\r\n                        <span>Value: {item.itemValue}</span>\r\n                        <span>Condition: {item.itemCondition}</span>\r\n                        <Link to={`/editItem/${item.itemID}`} >\r\n                        <IoIosList size=\"2em\" color=\"black\"></IoIosList>\r\n                        </Link>\r\n                        \r\n                        <IoIosTrash size=\"2em\" onClick={()=>this.setItemID(item.itemID)}></IoIosTrash>\r\n                    </div>\r\n                );\r\n            }\r\n        );\r\n        return(\r\n            <Page pageTitle=\"Collection's Detail\" auth={this.props.auth}>\r\n                <div ref={(ref)=>this.scrollParentRef = ref}>\r\n                        <h2>Items in this Collection</h2>\r\n                        <Link to={`/newItem`}><button className=\"addnew\"><IoIosAddCircleOutline size=\"2em\"/>Add a new Item to this collection</button></Link>\r\n                        <button className=\"addnew\" onClick={this.generateShareLink}><IoIosShare size=\"2em\"/>Share This Collection!</button>\r\n                        <InfiniteScroll\r\n                        pageStart={0}\r\n                        loadMore={this.loadMore}\r\n                        hasMore={this.state.hasMore}\r\n                        threshold={108}\r\n                        getScrollParent={()=>this.scrollParentRef}\r\n                        loader={<div key=\"pblistLoading\" >Loading Items...</div>}\r\n                        >\r\n                            {uiItems}\r\n                        </InfiniteScroll>\r\n                </div>\r\n            </Page>   \r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport Field from '../../../Forms/Field';\r\nimport {Actions} from './../../../Forms/Button';\r\nimport {emptyRegex} from '../../../Forms/Validators';\r\nimport ReactCrop from 'react-image-crop';\r\nimport exif from 'exif-js';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nimport {saxios, getLocalStorage, removeLocalStorage} from '../../../Utilities/Utilities';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default class NewItem extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            itemName:'',\r\n            itemNameerr:null,\r\n            itemDescription:'',\r\n            itemDescriptionerr:null,\r\n            itemValue:0,\r\n            itemCondition:'',\r\n            itemPic:null,\r\n            src: null,\r\n            crop: {\r\n            unit: \"%\",\r\n            width: 30,\r\n            aspect: 1 / 1\r\n            },\r\n            croppedImageUrl: null,\r\n            croppedUrl: null,\r\n            redirect:false,\r\n            \r\n        }\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.validate = this.validate.bind(this);\r\n        this.onClickAddItem = this.onClickAddItem.bind(this);\r\n    }\r\n\r\n\r\n\r\n    validate() {\r\n        let nameErrors = null;\r\n        let tmpErrors = [];\r\n        const name = this.state.itemName;\r\n        const description = this.state.itemDescription;\r\n        const condition = this.state.itemCondition;\r\n        if (name !== undefined) {\r\n          if (emptyRegex.test(name)) {\r\n            tmpErrors.push(\"Please enter a Name\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { NameError: tmpErrors.join('. ') });\r\n            alert(nameErrors.NameError);\r\n          }\r\n        }\r\n        if (description !== undefined) {\r\n          tmpErrors = [];\r\n          if ((emptyRegex.test(description))) {\r\n            tmpErrors.push(\"Please enter a Description\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { descriptionError: tmpErrors.join('. ') });\r\n            alert(nameErrors.descriptionError);\r\n          }\r\n        }\r\n        if (condition !== undefined) {\r\n            tmpErrors = [];\r\n            if ((emptyRegex.test(condition))) {\r\n              tmpErrors.push(\"Please enter a Condition\");\r\n            }\r\n            if (tmpErrors.length) {\r\n              nameErrors = Object.assign({}, nameErrors, { conditionError: tmpErrors.join('. ') });\r\n              alert(nameErrors.conditionError);\r\n            }\r\n          }\r\n        \r\n        \r\n        return nameErrors;\r\n      }\r\n\r\n    onChangeHandler(e) {\r\n        const { name, value } = e.currentTarget;\r\n        \r\n        this.setState({...this.state,[name]: value,});\r\n      }\r\n\r\n\r\n    onClickAddItem(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const errors = this.validate();\r\n        if (errors) {\r\n          this.setState({ ...this.state, ...errors });\r\n        }else{\r\n            const itemName = this.state.itemName;\r\n            const itemDescription = this.state.itemDescription;\r\n            const itemValue = this.state.itemValue;\r\n            const itemCondition = this.state.itemCondition\r\n            const collPic =this.state.croppedUrl;\r\n            const collID = getLocalStorage('collID');\r\n            \r\n            const uri = `/api/collections/item/new`;\r\n\r\n            saxios.post(uri, {collectionid: collID, itemname: itemName, description:itemDescription, picture: collPic, itemvalue: itemValue, condition:itemCondition})\r\n            .then((resp)=>{\r\n                alert(resp.data.Message);\r\n                this.setState({...this.state, redirect: true });\r\n            })\r\n            .catch((error)=>{\r\n                alert(error);\r\n            })\r\n            \r\n        }\r\n    }  \r\n\r\n    handleFile = e => {\r\n      const fileReader = new FileReader()\r\n      fileReader.onloadend = () => {\r\n        this.setState({ src: fileReader.result })\r\n      }\r\n      fileReader.readAsDataURL(e.target.files[0])\r\n    }\r\n  \r\n    onImageLoaded = image => {\r\n      this.imageRef = image\r\n    }\r\n  \r\n    onCropChange = (crop) => {\r\n      this.setState({ crop });\r\n    }\r\n  \r\n    onCropComplete = crop => {\r\n      if (this.imageRef && crop.width && crop.height) {\r\n        const croppedImageUrl = this.getCroppedImg(this.imageRef, crop)\r\n        this.setState({ croppedImageUrl })\r\n      }\r\n    }\r\n  \r\n    getCroppedImg(image, crop) {\r\n      const canvas = document.createElement(\"canvas\");\r\n      const scaleX = image.naturalWidth / image.width;\r\n      const scaleY = image.naturalHeight / image.height;\r\n      canvas.width = crop.width;\r\n      canvas.height = crop.height;\r\n      const ctx = canvas.getContext(\"2d\");\r\n  \r\n  \r\n      // --------\r\n      const _this = this\r\n      exif.getData(image, function(){\r\n        var orientation = exif.getAllTags(this).Orientation;\r\n  \r\n        switch (orientation) {\r\n          case 2:\r\n            ctx.transform(-1, 0, 0, 1, crop.width, 0);\r\n            break;\r\n          case 3:\r\n            ctx.transform(-1, 0, 0, -1, crop.width, crop.height);\r\n            break;\r\n          case 4:\r\n            ctx.transform(1, 0, 0, -1, 0, crop.height);\r\n            break;\r\n          case 5:\r\n            ctx.transform(0, 1, 1, 0, 0, 0);\r\n            break;\r\n          case 6:\r\n            ctx.transform(0, 1, -1, 0, crop.height, 0);\r\n            break;\r\n          case 7:\r\n            ctx.transform(0, -1, -1, 0, crop.height, crop.width);\r\n            break;\r\n          case 8:\r\n            ctx.transform(0, -1, 1, 0, 0, crop.width);\r\n            break;\r\n          default:\r\n            ctx.transform(1, 0, 0, 1, 0, 0);\r\n        }\r\n      \r\n        //ctx.drawImage(img, 0, 0, img.width, img.height);\r\n        //-----------\r\n  \r\n        ctx.drawImage(\r\n          image,\r\n          crop.x * scaleX,\r\n          crop.y * scaleY,\r\n          crop.width * scaleX,\r\n          crop.height * scaleY,\r\n          0,\r\n          0,\r\n          crop.width,\r\n          crop.height\r\n        )\r\n  \r\n        const reader = new FileReader()\r\n        canvas.toBlob(blob => {\r\n          reader.readAsDataURL(blob)\r\n          reader.onloadend = () => {\r\n            _this.dataURLtoFile(reader.result, 'cropped.jpg')\r\n          }\r\n        })\r\n      }\r\n    )\r\n    }\r\n  \r\n    dataURLtoFile(dataurl, filename) {\r\n      let arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n  \r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      let croppedImage = new File([u8arr], filename, { type: mime });\r\n      this.setState({ croppedImage: croppedImage, croppedUrl: dataurl })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n      const { crop, profile_pic, src, croppedUrl} = this.state\r\n      if(this.state.redirect){\r\n        const redirect = (this.props.location.state) ? this.props.location.state.from.pathname : `/collections/${getLocalStorage('collID')}`;\r\n        removeLocalStorage('collID');\r\n        return (<Redirect to={redirect}/>);\r\n      }\r\n        return(\r\n            <Page pageTitle=\"Adding a new Item\" auth={this.props.auth}>\r\n                \r\n                    <h2>Adding a new Item to the Collection!</h2>\r\n                <Field\r\n                name=\"itemName\"\r\n                caption=\"Item Name\"\r\n                value={this.state.itemName}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemNameError}\r\n                />\r\n                <Field\r\n                name=\"itemDescription\"\r\n                caption=\"Item's Description\"\r\n                value={this.state.itemDescription}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemDescriptionError}\r\n                />\r\n                <Field\r\n                name=\"itemValue\"\r\n                caption=\"Item's Value\"\r\n                value={this.state.itemValue}\r\n                type=\"number\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemValueerror}\r\n                />\r\n                <Field\r\n                name=\"itemCondition\"\r\n                caption=\"Item's Condition\"\r\n                value={this.state.itemCondition}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemConditionerror}\r\n                />\r\n                <input type=\"file\" onChange={this.handleFile} accept=\"jpg\"></input>\r\n\r\n                {src && (\r\n                  <ReactCrop\r\n                    src={src}\r\n                    crop={crop}\r\n                    onImageLoaded={this.onImageLoaded}\r\n                    onComplete={this.onCropComplete}\r\n                    onChange={this.onCropChange}\r\n                  />\r\n                )}\r\n                {croppedUrl && (<img src={croppedUrl} />)}\r\n\r\n                <Actions>\r\n                    <button onClick={this.onClickAddItem}>Add my Item!</button>\r\n                </Actions>\r\n\r\n            </Page>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport Field from '../../../Forms/Field';\r\nimport {Actions} from './../../../Forms/Button';\r\nimport {emptyRegex} from '../../../Forms/Validators';\r\nimport ReactCrop from 'react-image-crop';\r\nimport exif from 'exif-js';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nimport {saxios, getLocalStorage, removeLocalStorage, setLocalStorage} from '../../../Utilities/Utilities';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default class EditItem extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            itemName:'',\r\n            itemNameerr:null,\r\n            itemDescription:'',\r\n            itemDescriptionerr:null,\r\n            itemValue:0,\r\n            itemCondition:'',\r\n            itemPic:null,\r\n            src: null,\r\n            crop: {\r\n            unit: \"%\",\r\n            width: 30,\r\n            aspect: 1 / 1\r\n            },\r\n            croppedImageUrl: null,\r\n            croppedUrl: null,\r\n            redirect:false,\r\n            \r\n        }\r\n        \r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.validate = this.validate.bind(this);\r\n        this.onClickAddItem = this.onClickAddItem.bind(this);\r\n    }\r\n\r\n\r\n\r\n    validate() {\r\n        let nameErrors = null;\r\n        let tmpErrors = [];\r\n        const name = this.state.itemName;\r\n        const description = this.state.itemDescription;\r\n        const condition = this.state.itemCondition;\r\n        if (name !== undefined) {\r\n          if (emptyRegex.test(name)) {\r\n            tmpErrors.push(\"Please enter a Name\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { NameError: tmpErrors.join('. ') });\r\n            alert(nameErrors.NameError);\r\n          }\r\n        }\r\n        if (description !== undefined) {\r\n          tmpErrors = [];\r\n          if ((emptyRegex.test(description))) {\r\n            tmpErrors.push(\"Please enter a Description\");\r\n          }\r\n          if (tmpErrors.length) {\r\n            nameErrors = Object.assign({}, nameErrors, { descriptionError: tmpErrors.join('. ') });\r\n            alert(nameErrors.descriptionError);\r\n          }\r\n        }\r\n        if (condition !== undefined) {\r\n            tmpErrors = [];\r\n            if ((emptyRegex.test(condition))) {\r\n              tmpErrors.push(\"Please enter a Condition\");\r\n            }\r\n            if (tmpErrors.length) {\r\n              nameErrors = Object.assign({}, nameErrors, { conditionError: tmpErrors.join('. ') });\r\n              alert(nameErrors.conditionError);\r\n            }\r\n          }\r\n        \r\n        \r\n        return nameErrors;\r\n      }\r\n\r\n    onChangeHandler(e) {\r\n        const { name, value } = e.currentTarget;\r\n        \r\n        this.setState({...this.state,[name]: value,});\r\n      }\r\n\r\n\r\n    onClickAddItem(e){\r\n        setLocalStorage('itemID', this.props.match.params.id);\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const errors = this.validate();\r\n        if (errors) {\r\n          this.setState({ ...this.state, ...errors });\r\n        }else{\r\n            const itemName = this.state.itemName;\r\n            const itemDescription = this.state.itemDescription;\r\n            const itemValue = this.state.itemValue;\r\n            const itemCondition = this.state.itemCondition\r\n            const collPic =this.state.croppedUrl;\r\n            const itemID = getLocalStorage('itemID');\r\n            \r\n            const uri = `/api/collections/item/upd/${itemID}`;\r\n            removeLocalStorage('itemID');\r\n\r\n            saxios.put(uri, {itemname: itemName, description:itemDescription, picture: collPic, itemvalue: itemValue, condition:itemCondition})\r\n            .then((resp)=>{\r\n                alert(resp.data.Message);\r\n                this.setState({...this.state, redirect: true });\r\n            })\r\n            .catch((error)=>{\r\n                alert(error);\r\n            })\r\n            \r\n            \r\n        }\r\n    }  \r\n\r\n    handleFile = e => {\r\n      const fileReader = new FileReader()\r\n      fileReader.onloadend = () => {\r\n        this.setState({ src: fileReader.result })\r\n      }\r\n      fileReader.readAsDataURL(e.target.files[0])\r\n    }\r\n  \r\n    onImageLoaded = image => {\r\n      this.imageRef = image\r\n    }\r\n  \r\n    onCropChange = (crop) => {\r\n      this.setState({ crop });\r\n    }\r\n  \r\n    onCropComplete = crop => {\r\n      if (this.imageRef && crop.width && crop.height) {\r\n        const croppedImageUrl = this.getCroppedImg(this.imageRef, crop)\r\n        this.setState({ croppedImageUrl })\r\n      }\r\n    }\r\n  \r\n    getCroppedImg(image, crop) {\r\n      const canvas = document.createElement(\"canvas\");\r\n      const scaleX = image.naturalWidth / image.width;\r\n      const scaleY = image.naturalHeight / image.height;\r\n      canvas.width = crop.width;\r\n      canvas.height = crop.height;\r\n      const ctx = canvas.getContext(\"2d\");\r\n  \r\n  \r\n      // --------\r\n      const _this = this\r\n      exif.getData(image, function(){\r\n        var orientation = exif.getAllTags(this).Orientation;\r\n  \r\n        switch (orientation) {\r\n          case 2:\r\n            ctx.transform(-1, 0, 0, 1, crop.width, 0);\r\n            break;\r\n          case 3:\r\n            ctx.transform(-1, 0, 0, -1, crop.width, crop.height);\r\n            break;\r\n          case 4:\r\n            ctx.transform(1, 0, 0, -1, 0, crop.height);\r\n            break;\r\n          case 5:\r\n            ctx.transform(0, 1, 1, 0, 0, 0);\r\n            break;\r\n          case 6:\r\n            ctx.transform(0, 1, -1, 0, crop.height, 0);\r\n            break;\r\n          case 7:\r\n            ctx.transform(0, -1, -1, 0, crop.height, crop.width);\r\n            break;\r\n          case 8:\r\n            ctx.transform(0, -1, 1, 0, 0, crop.width);\r\n            break;\r\n          default:\r\n            ctx.transform(1, 0, 0, 1, 0, 0);\r\n        }\r\n      \r\n        //ctx.drawImage(img, 0, 0, img.width, img.height);\r\n        //-----------\r\n  \r\n        ctx.drawImage(\r\n          image,\r\n          crop.x * scaleX,\r\n          crop.y * scaleY,\r\n          crop.width * scaleX,\r\n          crop.height * scaleY,\r\n          0,\r\n          0,\r\n          crop.width,\r\n          crop.height\r\n        )\r\n  \r\n        const reader = new FileReader()\r\n        canvas.toBlob(blob => {\r\n          reader.readAsDataURL(blob)\r\n          reader.onloadend = () => {\r\n            _this.dataURLtoFile(reader.result, 'cropped.jpg')\r\n          }\r\n        })\r\n      }\r\n    )\r\n    }\r\n  \r\n    dataURLtoFile(dataurl, filename) {\r\n      let arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n  \r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      let croppedImage = new File([u8arr], filename, { type: mime });\r\n      this.setState({ croppedImage: croppedImage, croppedUrl: dataurl })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n      const { crop, profile_pic, src, croppedUrl} = this.state\r\n      if(this.state.redirect){\r\n        const redirect = (this.props.location.state) ? this.props.location.state.from.pathname : `/collections`;\r\n        \r\n        return (<Redirect to={redirect}/>);\r\n      }\r\n        return(\r\n            <Page pageTitle=\"Editing an Item\" auth={this.props.auth}>\r\n                \r\n                    <h2>Editing your selected Item!</h2>\r\n                <Field\r\n                name=\"itemName\"\r\n                caption=\"Edit Item Name\"\r\n                value={this.state.itemName}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemNameError}\r\n                />\r\n                <Field\r\n                name=\"itemDescription\"\r\n                caption=\"Edit Item's Description\"\r\n                value={this.state.itemDescription}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemDescriptionError}\r\n                />\r\n                <Field\r\n                name=\"itemValue\"\r\n                caption=\"Edit Item's Value\"\r\n                value={this.state.itemValue}\r\n                type=\"number\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemValueerror}\r\n                />\r\n                <Field\r\n                name=\"itemCondition\"\r\n                caption=\"Edit Item's Condition\"\r\n                value={this.state.itemCondition}\r\n                type=\"text\"\r\n                onChange={this.onChangeHandler}\r\n                error={this.itemConditionerror}\r\n                />\r\n                <input type=\"file\" onChange={this.handleFile} accept=\"jpg\"></input>\r\n\r\n                {src && (\r\n                  <ReactCrop\r\n                    src={src}\r\n                    crop={crop}\r\n                    onImageLoaded={this.onImageLoaded}\r\n                    onComplete={this.onCropComplete}\r\n                    onChange={this.onCropChange}\r\n                  />\r\n                )}\r\n                {croppedUrl && (<img src={croppedUrl} />)}\r\n\r\n                <Actions>\r\n                    <button onClick={this.onClickAddItem}>Edit my Item!</button>\r\n                </Actions>\r\n\r\n            </Page>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}","import React, {Component} from 'react';\r\nimport Page from '../../Page';\r\nimport {Actions} from '../../../Forms/Button';\r\n\r\nimport {saxios, getLocalStorage, removeLocalStorage} from '../../../Utilities/Utilities';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default class DeleteItem extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            collID:0,\r\n            redirect:false\r\n        }\r\n        this.redirecttoCollection = this.redirecttoCollection.bind(this);\r\n        this.DeleteItem = this.DeleteItem.bind(this);\r\n    }\r\n\r\n    redirecttoCollection(){\r\n        var collid= getLocalStorage('collID');\r\n        this.setState({'collID':collid, 'redirect':true});\r\n    }\r\n\r\n    DeleteItem(){\r\n        var itemID =this.props.match.params.id;\r\n        const uri=`/api/collections/item/del/${itemID}`;\r\n        saxios.delete(uri)\r\n        .then((resp)=>{\r\n            alert(resp.data.Message);\r\n            this.setState({...this.state, collID:getLocalStorage('collID'),redirect: true });\r\n            removeLocalStorage('collID');\r\n        }).catch((error)=>{\r\n            alert(error);\r\n        })\r\n\r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect){\r\n            const redirect = (this.props.location.state) ? this.props.location.state.from.pathname : `/collections/${this.state.collID}`;\r\n           \r\n            return (<Redirect to={redirect}/>);\r\n          }\r\n\r\n        return(\r\n            <Page pageTitle=\"Deleting an Item\" auth={this.props.auth}>\r\n                <h2>ALERT! DELETING AN ITEM IS PERMANENT, DO YOU STILL WISH TO DELETE THIS ITEM?</h2>\r\n                <Actions>\r\n                    <button onClick={this.DeleteItem}>Delete it!</button>\r\n                    <button onClick={this.redirecttoCollection}>Don't Delete it!</button>\r\n                </Actions>\r\n            </Page>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport PrivateRoute from './Components/SecureRoutes/SecureRoute';\nimport {setJWTBearer, setLocalStorage, getLocalStorage, removeLocalStorage} from './Components/Utilities/Utilities';\n\nimport Home from './Components/Pages/Public/Home/Home';\nimport SignIn from './Components/Pages/Public/Sign In/Signin';\nimport LogIn from './Components/Pages/Public/Login/Login';\nimport SharedCollection from './Components/Pages/Public/SharedCollection/SharedCollection';\n\nimport PrivateHome from './Components/Pages/Private/PrivateHome/PrivateHome';\nimport collections from './Components/Pages/Private/Collections/CollectionsList';\nimport newcollection from './Components/Pages/Private/Collections/NewCollection';\nimport collectionDetail from './Components/Pages/Private/Collections/CollectionDetail';\nimport newItem from './Components/Pages/Private/Items/NewItem';\nimport editItem from './Components/Pages/Private/Items/EditItem';\nimport deleteItem from './Components/Pages/Private/Items/DeleteItem';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state={\n      user: getLocalStorage('user') || {},\n      jwt: getLocalStorage('jwt') || '',\n      isLogged: false,\n      loadingBackend: false\n    };\n    if(this.state.jwt !== ''){\n      this.state.isLogged = true;\n      setJWTBearer(this.state.jwt);\n    }\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  login(user){\n    //console.log(user);\n    const  jwt = user.jwt;\n    const fuser = user.user;\n    //console.log(fuser[0].userName);\n    this.setState({\n      ...this.state,\n      isLogged:true,\n      loadingBackend:false,\n      user:fuser[0],\n      jwt: jwt,\n    });\n    console.log(this.state.user);\n    setJWTBearer(jwt);\n    setLocalStorage('jwt', jwt);\n    setLocalStorage('userID', fuser[0].userID);\n    setLocalStorage('userName', fuser[0].userName);\n  }\n\n  logout(){\n    removeLocalStorage('jwt');\n    removeLocalStorage('userID');\n    removeLocalStorage('userName');\n    this.setState({\n      ...this.state,\n      isLogged:false,\n      user:{},\n      jwt:''\n    })\n  }\n\n    render(){\n      const auth = {\n        isLogged: this.state.isLogged,\n        user: this.state.user,\n        logout: this.logout,\n      }\n\n      //console.log(auth);\n\n      return(\n        <Router>\n          <div className=\"App\">\n            <Switch>\n              <Route render={(props) => {return (<Home {...props} auth={auth}/>)}} path=\"/\" exact/>\n              <Route render={(props) => {return (<SignIn {...props} auth={auth}/>)}} path=\"/signin\" exact/>\n              <Route render={(props) => {return (<LogIn {...props} auth={auth} login={this.login} />)}} path=\"/login\" exact/>\n              <Route render={(props) => {return (<SharedCollection {...props} auth={auth}/>)}} path=\"/collections/shared/:id\" exact/>\n              <PrivateRoute component={PrivateHome} path=\"/privatehome\" exact auth={auth} />\n              <PrivateRoute component={collections} path=\"/collections\" exact auth={auth} />\n              <PrivateRoute component={newcollection} path=\"/newcollection\" exact auth={auth} />\n              <PrivateRoute component={collectionDetail} path=\"/collections/:id\" exact auth={auth} />\n              <PrivateRoute component={newItem} path=\"/newItem\" exact auth={auth} />\n              <PrivateRoute component={editItem} path=\"/editItem/:id\" exact auth={auth} />\n              <PrivateRoute component={deleteItem} path=\"/deleteItem/:id\" exact auth={auth} />\n            </Switch>\n          </div>\n        </Router>\n      )\n    }\n  \n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}